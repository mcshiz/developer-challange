<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
	<title>Explicitly Create Map Service Layer List</title>

	<link rel="stylesheet" href="https://js.arcgis.com/3.15/dijit/themes/claro/claro.css">
	<link rel="stylesheet" href="https://js.arcgis.com/3.15/esri/css/esri.css">
	<style>
		html, body, #map {
			padding: 0;
			margin: 0;
			height: 100%;
			width: 100%;
		}
	</style>
	<script src="https://js.arcgis.com/3.15/"></script>

	<script>
		var map;

		require([
					"esri/map",
					"esri/layers/FeatureLayer",
					"esri/layers/ArcGISDynamicMapServiceLayer",
					"esri/layers/ImageParameters",
					"dojo/dom",
					"dojo/on",
					"dojo/query",
					"dojo/domReady!"
				],
				function (Map, FeatureLayer, ArcGISDynamicMapServiceLayer, ImageParameters, dom, on, query) {
					var layer, visibleLayerIds = [];

					var map = new Map("map", {
						basemap: "topo",
						center: [-122.3133059, 41.3182099, ],
						zoom: 10
					});



					var fireLayer = new FeatureLayer("http://services1.arcgis.com/CHRAD8xHGZXuIQsJ/arcgis/rest/services/dev_challenge_ia/FeatureServer/0");
					var modisLayer = new FeatureLayer("http://tmservices1.esri.com/arcgis/rest/services/LiveFeeds/MODIS_Thermal/MapServer/0");
					map.addLayer(fireLayer);
					map.addLayer(modisLayer);


					dojo.query("#layer_list > input[type=checkbox]").connect("onclick", function (ev) {
						console.log(dom.byId(this));
						console.log(ev)
						console.log("checking....")
						console.log(fireLayer)
						fireLayer.setVisibility(!fireLayer.visible);
					});



				});
	</script>
</head>

<body>
Layer List :
<span id="layer_list">
	<input type='checkbox' class='list_item' id='modisLayerCheckbox' value=0 checked />Modis Thermal Layer <br>
 	<input type='checkbox' class='list_item' id='fireLayerCheckbox' value=1 checked/>Fire Incident Layer
</span>
<br />
<br />
<div id="map"></div>
</body>

</html>